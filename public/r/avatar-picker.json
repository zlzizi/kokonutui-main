{
  "name": "avatar-picker",
  "type": "registry:component",
  "dependencies": [
    "lucide-react",
    "motion"
  ],
  "registryDependencies": [
    "card",
    "button",
    "input"
  ],
  "files": [
    {
      "type": "registry:component",
      "content": "\"use client\";\n\n/**\n * @author: @dorianbaffier\n * @description: Avatar Picker\n * @version: 1.0.0\n * @date: 2025-06-26\n * @license: MIT\n * @website: https://kokonutui.com\n * @github: https://github.com/kokonut-labs/kokonutui\n */\n\nimport { Check, ChevronRight, Crown, User2 } from \"lucide-react\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Avatar {\n  id: number;\n  svg: React.ReactNode;\n  alt: string;\n}\n\nconst avatars: Avatar[] = [\n  {\n    id: 1,\n    svg: (\n      <svg\n        aria-label=\"Avatar 1\"\n        fill=\"none\"\n        height=\"40\"\n        role=\"img\"\n        viewBox=\"0 0 36 36\"\n        width=\"40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <title>Avatar 1</title>\n        <mask\n          height=\"36\"\n          id=\":r111:\"\n          maskUnits=\"userSpaceOnUse\"\n          width=\"36\"\n          x=\"0\"\n          y=\"0\"\n        >\n          <rect fill=\"#FFFFFF\" height=\"36\" rx=\"72\" width=\"36\" />\n        </mask>\n        <g mask=\"url(#:r111:)\">\n          <rect fill=\"#ff005b\" height=\"36\" width=\"36\" />\n          <rect\n            fill=\"#ffb238\"\n            height=\"36\"\n            rx=\"6\"\n            transform=\"translate(9 -5) rotate(219 18 18) scale(1)\"\n            width=\"36\"\n            x=\"0\"\n            y=\"0\"\n          />\n          <g transform=\"translate(4.5 -4) rotate(9 18 18)\">\n            <path\n              d=\"M15 19c2 1 4 1 6 0\"\n              fill=\"none\"\n              stroke=\"#000000\"\n              strokeLinecap=\"round\"\n            />\n            <rect\n              fill=\"#000000\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"10\"\n              y=\"14\"\n            />\n            <rect\n              fill=\"#000000\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"24\"\n              y=\"14\"\n            />\n          </g>\n        </g>\n      </svg>\n    ),\n    alt: \"Avatar 1\",\n  },\n  {\n    id: 2,\n    svg: (\n      <svg\n        aria-label=\"Avatar 4\"\n        fill=\"none\"\n        height=\"40\"\n        role=\"img\"\n        viewBox=\"0 0 36 36\"\n        width=\"40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <title>Avatar 4</title>\n        <mask\n          height=\"36\"\n          id=\":R4mrttb:\"\n          maskUnits=\"userSpaceOnUse\"\n          width=\"36\"\n          x=\"0\"\n          y=\"0\"\n        >\n          <rect fill=\"#FFFFFF\" height=\"36\" rx=\"72\" width=\"36\" />\n        </mask>\n        <g mask=\"url(#:R4mrttb:)\">\n          <rect fill=\"#ff7d10\" height=\"36\" width=\"36\" />\n          <rect\n            fill=\"#0a0310\"\n            height=\"36\"\n            rx=\"6\"\n            transform=\"translate(5 -1) rotate(55 18 18) scale(1.1)\"\n            width=\"36\"\n            x=\"0\"\n            y=\"0\"\n          />\n          <g transform=\"translate(7 -6) rotate(-5 18 18)\">\n            <path\n              d=\"M15 20c2 1 4 1 6 0\"\n              fill=\"none\"\n              stroke=\"#FFFFFF\"\n              strokeLinecap=\"round\"\n            />\n            <rect\n              fill=\"#FFFFFF\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"14\"\n              y=\"14\"\n            />\n            <rect\n              fill=\"#FFFFFF\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"20\"\n              y=\"14\"\n            />\n          </g>\n        </g>\n      </svg>\n    ),\n    alt: \"Avatar 4\",\n  },\n  {\n    id: 3,\n    svg: (\n      <svg\n        aria-label=\"Avatar 2\"\n        fill=\"none\"\n        height=\"40\"\n        role=\"img\"\n        viewBox=\"0 0 36 36\"\n        width=\"40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <title>Avatar 2</title>\n        <mask\n          height=\"36\"\n          id=\":r11c:\"\n          maskUnits=\"userSpaceOnUse\"\n          width=\"36\"\n          x=\"0\"\n          y=\"0\"\n        >\n          <rect fill=\"#FFFFFF\" height=\"36\" rx=\"72\" width=\"36\" />\n        </mask>\n        <g mask=\"url(#:r11c:)\">\n          <rect fill=\"#0a0310\" height=\"36\" width=\"36\" />\n          <rect\n            fill=\"#ff005b\"\n            height=\"36\"\n            rx=\"36\"\n            transform=\"translate(-3 7) rotate(227 18 18) scale(1.2)\"\n            width=\"36\"\n            x=\"0\"\n            y=\"0\"\n          />\n          <g transform=\"translate(-3 3.5) rotate(7 18 18)\">\n            <path d=\"M13,21 a1,0.75 0 0,0 10,0\" fill=\"#FFFFFF\" />\n            <rect\n              fill=\"#FFFFFF\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"12\"\n              y=\"14\"\n            />\n            <rect\n              fill=\"#FFFFFF\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"22\"\n              y=\"14\"\n            />\n          </g>\n        </g>\n      </svg>\n    ),\n    alt: \"Avatar 2\",\n  },\n  {\n    id: 4,\n    svg: (\n      <svg\n        aria-label=\"Avatar 3\"\n        fill=\"none\"\n        height=\"40\"\n        role=\"img\"\n        viewBox=\"0 0 36 36\"\n        width=\"40\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <title>Avatar 3</title>\n        <mask\n          height=\"36\"\n          id=\":r1gg:\"\n          maskUnits=\"userSpaceOnUse\"\n          width=\"36\"\n          x=\"0\"\n          y=\"0\"\n        >\n          <rect fill=\"#FFFFFF\" height=\"36\" rx=\"72\" width=\"36\" />\n        </mask>\n        <g mask=\"url(#:r1gg:)\">\n          <rect fill=\"#d8fcb3\" height=\"36\" width=\"36\" />\n          <rect\n            fill=\"#89fcb3\"\n            height=\"36\"\n            rx=\"6\"\n            transform=\"translate(9 -5) rotate(219 18 18) scale(1)\"\n            width=\"36\"\n            x=\"0\"\n            y=\"0\"\n          />\n          <g transform=\"translate(4.5 -4) rotate(9 18 18)\">\n            <path\n              d=\"M15 19c2 1 4 1 6 0\"\n              fill=\"none\"\n              stroke=\"#000000\"\n              strokeLinecap=\"round\"\n            />\n            <rect\n              fill=\"#000000\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"10\"\n              y=\"14\"\n            />\n            <rect\n              fill=\"#000000\"\n              height=\"2\"\n              rx=\"1\"\n              stroke=\"none\"\n              width=\"1.5\"\n              x=\"24\"\n              y=\"14\"\n            />\n          </g>\n        </g>\n      </svg>\n    ),\n    alt: \"Avatar 3\",\n  },\n];\n\ninterface ProfileSetupProps {\n  onComplete?: (data: { username: string; avatarId: number }) => void;\n  className?: string;\n}\n\nconst mainAvatarVariants = {\n  initial: { scale: 0.9, opacity: 0 },\n  animate: {\n    scale: 1,\n    opacity: 1,\n    transition: { type: \"spring\", stiffness: 300, damping: 25 },\n  },\n  exit: {\n    scale: 0.9,\n    opacity: 0,\n    transition: { duration: 0.2 },\n  },\n};\n\nconst pickerVariants = {\n  container: {\n    initial: { opacity: 0 },\n    animate: {\n      opacity: 1,\n      transition: { staggerChildren: 0.05, delayChildren: 0.1 },\n    },\n  },\n  item: {\n    initial: { scale: 0.8, opacity: 0 },\n    animate: {\n      scale: 1,\n      opacity: 1,\n      transition: { type: \"spring\", stiffness: 400, damping: 25 },\n    },\n  },\n};\n\nconst DetailRing = () => (\n  <div className=\"absolute inset-0 rounded-full\">\n    <svg\n      aria-label=\"Decorative outer ring animation\"\n      className=\"absolute inset-0 h-full w-full animate-[spin_30s_linear_infinite]\"\n      viewBox=\"0 0 100 100\"\n    >\n      <title>Decorative outer spinning ring</title>\n      <defs>\n        <linearGradient id=\"gradient\" x1=\"0%\" x2=\"100%\" y1=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"hsl(var(--primary))\" stopOpacity=\"0.3\" />\n          <stop\n            offset=\"50%\"\n            stopColor=\"hsl(var(--primary))\"\n            stopOpacity=\"0.1\"\n          />\n          <stop\n            offset=\"100%\"\n            stopColor=\"hsl(var(--primary))\"\n            stopOpacity=\"0.3\"\n          />\n        </linearGradient>\n      </defs>\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        fill=\"none\"\n        r=\"48\"\n        stroke=\"url(#gradient)\"\n        strokeDasharray=\"1,3\"\n        strokeWidth=\"0.5\"\n      />\n    </svg>\n    <svg\n      aria-label=\"Decorative inner ring animation\"\n      className=\"absolute inset-0 h-full w-full animate-[spin_20s_linear_infinite_reverse]\"\n      viewBox=\"0 0 100 100\"\n    >\n      <title>Decorative inner spinning ring</title>\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        fill=\"none\"\n        r=\"45\"\n        stroke=\"url(#gradient)\"\n        strokeDasharray=\"1,2\"\n        strokeWidth=\"0.25\"\n      />\n    </svg>\n  </div>\n);\n\nexport default function ProfileSetup({\n  onComplete,\n  className,\n}: ProfileSetupProps) {\n  const [selectedAvatar, setSelectedAvatar] = useState<Avatar>(avatars[0]);\n  const [username, setUsername] = useState(\"\");\n  const [rotationCount, setRotationCount] = useState(0);\n  const [isHovering, setIsHovering] = useState<number | null>(null);\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleAvatarSelect = (avatar: Avatar) => {\n    if (avatar.id === selectedAvatar.id) return;\n    setRotationCount((prev) => prev + 720);\n    setSelectedAvatar(avatar);\n  };\n\n  const handleSubmit = () => {\n    if (username.trim() && onComplete) {\n      onComplete({\n        username: username.trim(),\n        avatarId: selectedAvatar.id,\n      });\n    }\n  };\n\n  const isValid = username.trim().length >= 3;\n  const showError = username.trim().length > 0 && username.trim().length < 3;\n\n  return (\n    <Card\n      className={cn(\n        \"relative mx-auto w-full max-w-[400px] overflow-hidden border-primary/10 bg-gradient-to-b from-background/80 to-background/40 backdrop-blur-sm\",\n        className\n      )}\n    >\n      <div className=\"-top-px absolute inset-x-0 h-px w-full bg-gradient-to-r from-transparent via-primary/30 to-transparent\" />\n\n      <CardContent className=\"p-8\">\n        <div className=\"space-y-8\">\n          {/* Header */}\n          <div className=\"space-y-2 text-center\">\n            <h2 className=\"bg-gradient-to-br from-primary/90 to-primary/60 bg-clip-text font-bold text-2xl text-transparent\">\n              Create Your Profile\n            </h2>\n            <p className=\"text-muted-foreground text-sm\">\n              Choose an avatar and enter your username to begin\n            </p>\n          </div>\n\n          {/* Avatar Section */}\n          <div className=\"relative flex flex-col items-center\">\n            {/* Main Avatar */}\n            <motion.div\n              animate=\"animate\"\n              className=\"relative h-28 w-28\"\n              initial=\"initial\"\n              variants={mainAvatarVariants as any}\n            >\n              <DetailRing />\n\n              <div className=\"absolute inset-0 rounded-full bg-gradient-to-b from-primary/10 to-transparent opacity-50 blur-md\" />\n\n              <div className=\"relative h-full w-full overflow-hidden rounded-full border border-primary/20 bg-gradient-to-b from-background/80 to-background shadow-lg shadow-primary/5\">\n                <motion.div\n                  animate={{ rotate: rotationCount }}\n                  className=\"absolute inset-0 flex items-center justify-center\"\n                  transition={{\n                    duration: 0.7,\n                    ease: [0.4, 0, 0.2, 1],\n                  }}\n                >\n                  <div className=\"scale-[2.8] transform\">\n                    {selectedAvatar.svg}\n                  </div>\n                </motion.div>\n                <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-background/20\" />\n              </div>\n\n              <div className=\"-bottom-1 -right-1 absolute flex h-7 w-7 items-center justify-center rounded-full border border-primary/20 bg-primary/10 backdrop-blur-sm\">\n                <Crown className=\"h-4 w-4 text-primary\" />\n              </div>\n            </motion.div>\n\n            {/* Avatar Grid */}\n            <motion.div\n              animate=\"animate\"\n              className=\"mt-6 grid w-full max-w-[240px] grid-cols-4 gap-3\"\n              initial=\"initial\"\n              variants={pickerVariants.container}\n            >\n              {avatars.map((avatar) => (\n                <motion.button\n                  aria-label={`Select ${avatar.alt}`}\n                  aria-pressed={selectedAvatar.id === avatar.id}\n                  className={cn(\n                    \"group/avatar relative h-12 w-12 rounded-full\",\n                    \"transition-all duration-300\",\n                    selectedAvatar.id === avatar.id\n                      ? \"ring-2 ring-primary/30 ring-offset-2 ring-offset-background\"\n                      : \"hover:ring-2 hover:ring-primary/20 hover:ring-offset-2 hover:ring-offset-background\"\n                  )}\n                  key={avatar.id}\n                  onClick={() => handleAvatarSelect(avatar)}\n                  onMouseEnter={() => setIsHovering(avatar.id)}\n                  onMouseLeave={() => setIsHovering(null)}\n                  variants={pickerVariants.item as any}\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                >\n                  <AnimatePresence>\n                    {isHovering === avatar.id && (\n                      <motion.div\n                        animate={{ opacity: 1 }}\n                        className=\"absolute inset-0 rounded-full bg-primary/10\"\n                        exit={{ opacity: 0 }}\n                        initial={{ opacity: 0 }}\n                      />\n                    )}\n                  </AnimatePresence>\n\n                  <div className=\"relative h-full w-full overflow-hidden rounded-full\">\n                    <div className=\"absolute inset-0 bg-gradient-to-b from-background/50 to-background opacity-0 transition-opacity duration-300 group-hover/avatar:opacity-100\" />\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"scale-[2.2] transform\">{avatar.svg}</div>\n                    </div>\n                  </div>\n\n                  {selectedAvatar.id === avatar.id && (\n                    <div className=\"-bottom-0.5 -right-0.5 absolute flex h-5 w-5 items-center justify-center rounded-full bg-primary/10 backdrop-blur-sm\">\n                      <Check className=\"h-3 w-3 text-primary\" />\n                    </div>\n                  )}\n                </motion.button>\n              ))}\n            </motion.div>\n          </div>\n\n          {/* Username Input */}\n          <div className=\"space-y-6\">\n            <div className=\"relative\">\n              <div className=\"relative\">\n                <Input\n                  className={cn(\n                    \"h-12 pl-10 text-base transition-all duration-200\",\n                    isFocused && \"ring-2 ring-primary/20\",\n                    showError &&\n                      \"ring-2 ring-destructive/50 focus-visible:ring-destructive\"\n                  )}\n                  maxLength={20}\n                  onBlur={() => setIsFocused(false)}\n                  onChange={(e) => setUsername(e.target.value)}\n                  onFocus={() => setIsFocused(true)}\n                  placeholder=\"Enter your username\"\n                  type=\"text\"\n                  value={username}\n                />\n                <User2\n                  className={cn(\n                    \"-translate-y-1/2 absolute top-1/2 left-3 h-5 w-5 transition-colors duration-200\",\n                    isFocused ? \"text-primary\" : \"text-muted-foreground\"\n                  )}\n                />\n              </div>\n              <AnimatePresence>\n                {showError && (\n                  <motion.p\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"absolute mt-2 ml-1 text-destructive text-xs\"\n                    exit={{ opacity: 0, y: -10 }}\n                    initial={{ opacity: 0, y: -10 }}\n                  >\n                    Username must be at least 3 characters\n                  </motion.p>\n                )}\n              </AnimatePresence>\n            </div>\n\n            <Button\n              className=\"group relative h-12 w-full text-base\"\n              disabled={!isValid}\n              onClick={handleSubmit}\n            >\n              <span className=\"relative z-10\">Start Adventure</span>\n              <ChevronRight className=\"relative z-10 ml-2 h-5 w-5 transition-transform group-hover:translate-x-1\" />\n              <div className=\"absolute inset-0 rounded-md bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0 opacity-0 transition-opacity duration-300 group-hover:opacity-100\" />\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "path": "/components/kokonutui/avatar-picker.tsx",
      "target": "components/kokonutui/avatar-picker.tsx"
    }
  ]
}